javascript:const coverLetterText="Добрый день! Рассмотрите, пожалуйста!",errors=[],withCoverLetter=[],alreadyResponded=[],addedToBlacklist=[],alreadyAddedToBlacklist=[],log=(...e)=>console.log({errors,withCoverLetter,alreadyResponded,addedToBlacklist,alreadyAddedToBlacklist},...e),triggerInputChange=(e,t="")=>{let a=[window.HTMLInputElement,window.HTMLSelectElement,window.HTMLTextAreaElement,];if(a.indexOf(e.__proto__.constructor)>-1){let r=Object.getOwnPropertyDescriptor(e.__proto__,"value").set,o=new Event("input",{bubbles:!0});r.call(e,t),e.dispatchEvent(o)}},wait=(e=100)=>new Promise(t=>setTimeout(t,e)),prevLoc=window.location.href;navigation.addEventListener("navigate",e=>{console.error("GO BACK",e.destination.url),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),window.location.href=prevLoc}),Object.freeze(document.location);const runTasks=async()=>{let e=document.querySelectorAll("[class^='vacancy-card']");for(let[t,a]of e.entries()){a.scrollIntoView({behavior:"smooth",block:"center"}),a.style.boxShadow="0 0 5px red";let r=a.querySelector("[data-qa='serp-item__title']")?.innerText,o=a.querySelector("[data-qa='serp-item__title']")?.href,l=a.querySelector("[data-qa='vacancy-serp__vacancy_response']");if(["Respond","Откликнуться"].includes(l?.innerText)){log(t,"RESPOND",a),l.click(),await wait(2e3),document.querySelector(".bloko-modal-footer .bloko-button_kind-success")?.click();let c=document.querySelector("[data-qa=vacancy-response-popup-form-letter-input]");c&&(triggerInputChange(c,"Добрый день! Рассмотрите, пожалуйста!"),withCoverLetter.push({title:r,href:o})),document.querySelector(".bloko-modal-footer .bloko-button_kind-primary")?.click(),await wait(1111);let i=document.querySelector(".vacancy-response-popup-error")?.innerText;if(i){errors.push({title:r,href:o,error:i}),document.querySelector("[data-qa=vacancy-response-popup-close-button]")?.click();continue}}else alreadyResponded.push({title:r,href:o}),log(t,"already RESPONDED",a);await wait(100);let n=a.querySelector("[data-qa=vacancy__blacklist-show-add]");n?(n.click(),await wait(100),document.querySelector("[data-qa=vacancy__blacklist-menu-add-vacancy]").click(),addedToBlacklist.push({title:r,href:o}),log(t,"TO BLACK LIST",a)):(alreadyAddedToBlacklist.push({title:r,href:o}),log(t,"already blacklisted",a)),await wait(1e3),a.style.boxShadow=""}let s=document.querySelector('[data-qa="pager-next"]');s&&(s.click(),await wait(4e3),runTasks(),log("GO TO NEXT PAGE"))};runTasks();